(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{DRwZ:function(n,t,e){"use strict";e.d(t,"a",function(){return l});var i=e("DQLy"),r=e("8Y7J"),s=function(){var n={EntitiesOnly:0,Both:1,None:2};return n[n.EntitiesOnly]="EntitiesOnly",n[n.Both]="Both",n[n.None]="None",n}();function o(n){return function(t,e){const i={ids:[...e.ids],entities:Object.assign({},e.entities)},r=n(t,i);return r===s.Both?Object.assign({},e,i):r===s.EntitiesOnly?Object.assign({},e,{entities:i.entities}):e}}function u(n,t){const e=t(n);return Object(r.V)()&&void 0===e&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",n,"The `selectId` implementation:",t.toString()),e}function c(n){function t(t,e){const i=u(t,n);return i in e.entities?s.None:(e.ids.push(i),e.entities[i]=t,s.Both)}function e(n,e){let i=!1;for(const r of n)i=t(r,e)!==s.None||i;return i?s.Both:s.None}function i(n,t){const e=(n instanceof Array?n:t.ids.filter(e=>n(t.entities[e]))).filter(n=>n in t.entities).map(n=>delete t.entities[n]).length>0;return e&&(t.ids=t.ids.filter(n=>n in t.entities)),e?s.Both:s.None}function r(t,e){const i={};return(t=t.filter(n=>n.id in e.entities)).length>0?t.filter(t=>(function(t,e,i){const r=Object.assign({},i.entities[e.id],e.changes),s=u(r,n),o=s!==e.id;return o&&(t[e.id]=s,delete i.entities[e.id]),i.entities[s]=r,o})(i,t,e)).length>0?(e.ids=e.ids.map(n=>i[n]||n),s.Both):s.EntitiesOnly:s.None}function c(t,i){const o=[],c=[];for(const e of t){const t=u(e,n);t in i.entities?c.push({id:t,changes:e}):o.push(e)}const l=r(c,i),a=e(o,i);switch(!0){case a===s.None&&l===s.None:return s.None;case a===s.Both||l===s.Both:return s.Both;default:return s.EntitiesOnly}}return{removeAll:function(n){return Object.assign({},n,{ids:[],entities:{}})},addOne:o(t),addMany:o(e),addAll:o(function(n,t){return t.ids=[],t.entities={},e(n,t),s.Both}),updateOne:o(function(n,t){return r([n],t)}),updateMany:o(r),upsertOne:o(function(n,t){return c([n],t)}),upsertMany:o(c),removeOne:o(function(n,t){return i([n],t)}),removeMany:o(i),map:o(function(n,t){return r(t.ids.reduce((e,i)=>{const r=n(t.entities[i]);return r!==t.entities[i]&&e.push({id:i,changes:r}),e},[]).filter(({id:n})=>n in t.entities),t)})}}function l(n={}){const{selectId:t,sortComparer:e}=Object.assign({sortComparer:!1,selectId:n=>n.id},n),r={getInitialState:function(n={}){return Object.assign({ids:[],entities:{}},n)}},l={getSelectors:function(n){const t=n=>n.ids,e=n=>n.entities,r=Object(i.D)(t,e,(n,t)=>n.map(n=>t[n])),s=Object(i.D)(t,n=>n.length);return n?{selectIds:Object(i.D)(n,t),selectEntities:Object(i.D)(n,e),selectAll:Object(i.D)(n,r),selectTotal:Object(i.D)(n,s)}:{selectIds:t,selectEntities:e,selectAll:r,selectTotal:s}}},a=e?function(n,t){const{removeOne:e,removeMany:i,removeAll:r}=c(n);function l(t,e){const i=t.filter(t=>!(u(t,n)in e.entities));return 0===i.length?s.None:(h(i,e),s.Both)}function a(t,e){const i=[],r=t.filter(t=>(function(t,e,i){if(!(e.id in i.entities))return!1;const r=Object.assign({},i.entities[e.id],e.changes),s=u(r,n);return delete i.entities[e.id],t.push(r),s!==e.id})(i,t,e)).length>0;if(0===i.length)return s.None;{const n=e.ids,t=[];return e.ids=e.ids.filter((n,i)=>n in e.entities||(t.push(i),!1)),h(i,e),!r&&t.every(t=>e.ids[t]===n[t])?s.EntitiesOnly:s.Both}}function d(t,e){const i=[],r=[];for(const s of t){const t=u(s,n);t in e.entities?r.push({id:t,changes:s}):i.push(s)}const o=a(r,e),c=l(i,e);switch(!0){case c===s.None&&o===s.None:return s.None;case c===s.Both||o===s.Both:return s.Both;default:return s.EntitiesOnly}}function h(e,i){e.sort(t);const r=[];let s=0,o=0;for(;s<e.length&&o<i.ids.length;){const c=e[s],l=u(c,n),a=i.ids[o];t(c,i.entities[a])<=0?(r.push(l),s++):(r.push(a),o++)}i.ids=r.concat(s<e.length?e.slice(s).map(n):i.ids.slice(o)),e.forEach((t,e)=>{i.entities[n(t)]=t})}return{removeOne:e,removeMany:i,removeAll:r,addOne:o(function(n,t){return l([n],t)}),updateOne:o(function(n,t){return a([n],t)}),upsertOne:o(function(n,t){return d([n],t)}),addAll:o(function(n,t){return t.entities={},t.ids=[],l(n,t),s.Both}),addMany:o(l),updateMany:o(a),upsertMany:o(d),map:o(function(n,t){return a(t.ids.reduce((e,i)=>{const r=n(t.entities[i]);return r!==t.entities[i]&&e.push({id:i,changes:r}),e},[]),t)})}}(t,e):c(t);return Object.assign({selectId:t,sortComparer:e},r,l,a)}},KnzU:function(n,t,e){"use strict";e.r(t);var i={};e.r(i),e.d(i,"ActionTypes",function(){return u}),e.d(i,"Search2CountriesRequest",function(){return p}),e.d(i,"Search2CountriesSuccess",function(){return f}),e.d(i,"Search2CountriesFailure",function(){return g});var r={};e.r(r),e.d(r,"selectSearch2Error",function(){return B}),e.d(r,"selectSearch2Loading",function(){return T}),e.d(r,"selectSearch2Countries",function(){return L});var s=e("8Y7J");class o{}var u,c=e("pMnS"),l=e("s7LF"),a=e("DIlg"),d=e("oUwm"),h=e("SVse"),b=e("RLuz");!function(n){n.SEARCH2_COUNTRIES_REQUEST="[Search2 Page] Search Countries Request",n.SEARCH2_COUNTRIES_SUCCESS="[Search2 Page] Search Countries Success",n.SEARCH2_COUNTRIES_FAILURE="[Search2 Page] Search Countries Failure"}(u||(u={})),Object(b.d)(u);class p{constructor(n){this.payload=n,this.type=u.SEARCH2_COUNTRIES_REQUEST}}class f{constructor(n){this.payload=n,this.type=u.SEARCH2_COUNTRIES_SUCCESS}}class g{constructor(n){this.payload=n,this.type=u.SEARCH2_COUNTRIES_FAILURE}}var O=e("mrSG"),C=e("Yml6"),S=e("LRne"),m=e("HDdC"),y=e("lJxs"),v=e("eIep"),E=e("JIr8");class j{constructor(n,t){this.countryService=n,this.actions$=t,this.search2CountriesEffects$=this.actions$.pipe(Object(C.e)(u.SEARCH2_COUNTRIES_REQUEST),Object(y.a)(n=>n.payload),Object(v.a)(n=>this.countryService.getCountries(n).pipe(Object(y.a)(n=>new f(n)),Object(E.a)(n=>Object(S.a)(new g(n))))))}}Object(O.a)([Object(C.b)(),Object(O.c)("design:type",m.a)],j.prototype,"search2CountriesEffects$",void 0);var R=e("DRwZ");const I=Object(R.a)({selectId:function(n){return n.name},sortComparer:function(n,t){return n.name.localeCompare(t.name)}}),N=I.getInitialState({isLoading:!1,error:null}),{selectAll:_}=I.getSelectors();function w(n=N,t){switch(t.type){case u.SEARCH2_COUNTRIES_REQUEST:return Object.assign({},n,{isLoading:!0,error:null});case u.SEARCH2_COUNTRIES_SUCCESS:return I.addAll(t.payload,Object.assign({},n,{isLoading:!1,error:null}));case u.SEARCH2_COUNTRIES_FAILURE:return Object.assign({},n,{isLoading:!1,error:t.payload});default:return n}}var A=e("DQLy");const U=Object(A.B)("search2"),B=Object(A.D)(U,n=>n.error),T=Object(A.D)(U,n=>n.isLoading),L=Object(A.D)(U,_);var M=e("pLZG"),x=e("Kj3r"),D=e("/uUt");class ${constructor(n){this.store$=n}ngOnInit(){this.searchControl=new l.e,this.populateCountries(),this.isLoading$=this.store$.pipe(Object(A.E)(r.selectSearch2Loading)),this.countries$=this.store$.pipe(Object(A.E)(r.selectSearch2Countries)),this.errorMessage$=this.store$.pipe(Object(A.E)(r.selectSearch2Error))}populateCountries(){this.searchControl.valueChanges.pipe(Object(y.a)(n=>n&&n.trim()),Object(M.a)(n=>n.length>2&&n.length<15),Object(x.a)(500),Object(D.a)()).subscribe(n=>{this.store$.dispatch(new i.Search2CountriesRequest(n))})}}var H=s.lb({encapsulation:0,styles:[["input[type=search][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:60%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:18px}.searchContainer[_ngcontent-%COMP%]{margin:auto;width:500px;border-radius:5px;padding:20px 20px 20px 30px}span.space[_ngcontent-%COMP%]{padding:1rem}"]],data:{}});function F(n){return s.Cb(0,[(n()(),s.nb(0,0,null,null,2,"div",[["style","text-align:center"]],null,null,null,null,null)),(n()(),s.nb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),s.Ab(-1,null,["Demo 5"])),(n()(),s.nb(3,0,null,null,6,"div",[["class","searchContainer"]],null,null,null,null,null)),(n()(),s.nb(4,0,null,null,5,"input",[["id","searchbyCountry"],["placeholder","Search Country"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var i=!0;return"input"===t&&(i=!1!==s.vb(n,5)._handleInput(e.target.value)&&i),"blur"===t&&(i=!1!==s.vb(n,5).onTouched()&&i),"compositionstart"===t&&(i=!1!==s.vb(n,5)._compositionStart()&&i),"compositionend"===t&&(i=!1!==s.vb(n,5)._compositionEnd(e.target.value)&&i),i},null,null)),s.mb(5,16384,null,0,l.c,[s.B,s.k,[2,l.a]],null,null),s.yb(1024,null,l.i,function(n){return[n]},[l.c]),s.mb(7,540672,null,0,l.f,[[8,null],[8,null],[6,l.i],[2,l.r]],{form:[0,"form"]},null),s.yb(2048,null,l.j,null,[l.f]),s.mb(9,16384,null,0,l.k,[[4,l.j]],null,null),(n()(),s.nb(10,0,null,null,4,"app-country-table",[],null,null,null,a.b,a.a)),s.mb(11,49152,null,0,d.a,[],{countries:[0,"countries"],errorMessage:[1,"errorMessage"],isLoading:[2,"isLoading"]},null),s.wb(131072,h.b,[s.h]),s.wb(131072,h.b,[s.h]),s.wb(131072,h.b,[s.h])],function(n,t){var e=t.component;n(t,7,0,e.searchControl),n(t,11,0,s.Bb(t,11,0,s.vb(t,12).transform(e.countries$)),s.Bb(t,11,1,s.vb(t,13).transform(e.errorMessage$)),s.Bb(t,11,2,s.vb(t,14).transform(e.isLoading$)))},function(n,t){n(t,4,0,s.vb(t,9).ngClassUntouched,s.vb(t,9).ngClassTouched,s.vb(t,9).ngClassPristine,s.vb(t,9).ngClassDirty,s.vb(t,9).ngClassValid,s.vb(t,9).ngClassInvalid,s.vb(t,9).ngClassPending)})}function P(n){return s.Cb(0,[(n()(),s.nb(0,0,null,null,1,"app-search2",[],null,null,null,F,H)),s.mb(1,114688,null,0,$,[A.n],null,null)],function(n,t){n(t,1,0)},null)}var q=s.jb("app-search2",$,P,{},{},[]),k=e("PCNd"),J=e("bKjt"),Q=e("iInd");class z{}z.components=[$],e.d(t,"Search2ModuleNgFactory",function(){return G});var G=s.kb(o,[],function(n){return s.tb([s.ub(512,s.j,s.Z,[[8,[c.a,q]],[3,s.j],s.v]),s.ub(4608,h.m,h.l,[s.s,[2,h.s]]),s.ub(4608,l.d,l.d,[]),s.ub(4608,l.q,l.q,[]),s.ub(1073742336,h.c,h.c,[]),s.ub(1073742336,l.o,l.o,[]),s.ub(1073742336,l.m,l.m,[]),s.ub(1073742336,k.a,k.a,[]),s.ub(1024,A.F,function(){return[{}]},[]),s.ub(1024,A.j,function(){return[{key:"search2",reducerFactory:A.z,metaReducers:[],initialState:void 0}]},[]),s.ub(1024,A.G,A.H,[s.p,A.F,A.j]),s.ub(1024,A.q,function(){return[w]},[]),s.ub(1024,A.r,function(n){return[n]},[A.q]),s.ub(1024,A.b,function(n,t,e){return[A.w(n,t,e)]},[s.p,A.q,A.r]),s.ub(1073873408,A.o,A.o,[A.G,A.b,A.g,A.p]),s.ub(512,j,j,[J.a,C.a]),s.ub(1024,C.j,function(n){return[C.f(n)]},[j]),s.ub(1073742336,C.h,C.h,[C.g,C.j,[2,A.p],[2,A.o]]),s.ub(1073742336,Q.p,Q.p,[[2,Q.w],[2,Q.o]]),s.ub(1073742336,z,z,[]),s.ub(1073742336,o,o,[]),s.ub(1024,Q.m,function(){return[[{path:"",component:$}]]},[])])})}}]);