(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{k0NY:function(n,t,e){"use strict";e.r(t);var r={};e.r(r),e.d(r,"ActionTypes",function(){return o}),e.d(r,"SearchCountriesRequest",function(){return h}),e.d(r,"SearchCountriesSuccess",function(){return C}),e.d(r,"SearchCountriesFailure",function(){return g});var u={};e.r(u),e.d(u,"selectCountries",function(){return w}),e.d(u,"selectError",function(){return L}),e.d(u,"selectIsLoading",function(){return T});var l=e("8Y7J");class s{}var o,i=e("pMnS"),c=e("s7LF"),a=e("DIlg"),b=e("oUwm"),p=e("SVse"),d=e("RLuz");!function(n){n.SEARCH_COUNTRIES_REQUEST="[Search Page] Search Countries Request",n.SEARCH_COUNTRIES_SUCCESS="[Search Page] Search Countries Success",n.SEARCH_COUNTRIES_FAILURE="[Search Page] Search Countries Failure"}(o||(o={})),Object(d.d)(o);class h{constructor(n){this.payload=n,this.type=o.SEARCH_COUNTRIES_REQUEST}}class C{constructor(n){this.payload=n,this.type=o.SEARCH_COUNTRIES_SUCCESS}}class g{constructor(n){this.payload=n,this.type=o.SEARCH_COUNTRIES_FAILURE}}var S=e("mrSG"),E=e("Yml6"),f=e("LRne"),v=e("HDdC"),O=e("lJxs"),j=e("eIep"),R=e("JIr8");class m{constructor(n,t){this.countryService=n,this.actions$=t,this.searchCountriesEffects$=this.actions$.pipe(Object(E.e)(o.SEARCH_COUNTRIES_REQUEST),Object(O.a)(n=>n.payload),Object(j.a)(n=>this.countryService.getCountries(n).pipe(Object(O.a)(n=>new C(n)),Object(R.a)(n=>Object(f.a)(new g(n))))))}}Object(S.a)([Object(E.b)(),Object(S.c)("design:type",v.a)],m.prototype,"searchCountriesEffects$",void 0);const y={countries:[],isLoading:!1,error:null};function _(n=y,t){switch(t.type){case o.SEARCH_COUNTRIES_REQUEST:return Object.assign({},n,{isLoading:!0,countries:[],error:null});case o.SEARCH_COUNTRIES_SUCCESS:return Object.assign({},n,{isLoading:!1,countries:t.payload,error:null});case o.SEARCH_COUNTRIES_FAILURE:return Object.assign({},n,{isLoading:!1,countries:[],error:t.payload});default:return n}}var U=e("DQLy");const I=Object(U.B)("search"),w=Object(U.D)(I,n=>n.countries),L=Object(U.D)(I,n=>n.error),T=Object(U.D)(I,n=>n.isLoading);var x=e("pLZG"),A=e("Kj3r"),$=e("/uUt");class N{constructor(n){this.store$=n}ngOnInit(){this.searchControl=new c.e,this.populateCountries(),this.isLoading$=this.store$.pipe(Object(U.E)(u.selectIsLoading)),this.countries$=this.store$.pipe(Object(U.E)(u.selectCountries)),this.errorMessage$=this.store$.pipe(Object(U.E)(u.selectError))}populateCountries(){this.searchControl.valueChanges.pipe(Object(O.a)(n=>n&&n.trim()),Object(x.a)(n=>n.length>2&&n.length<15),Object(A.a)(500),Object($.a)()).subscribe(n=>{this.store$.dispatch(new r.SearchCountriesRequest(n))})}}var H=l.lb({encapsulation:0,styles:[["input[type=search][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:60%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;border-radius:4px;box-sizing:border-box;font-size:18px}.searchContainer[_ngcontent-%COMP%]{margin:auto;width:500px;border-radius:5px;padding:20px 20px 20px 30px}span.space[_ngcontent-%COMP%]{padding:1rem}"]],data:{}});function F(n){return l.Cb(0,[(n()(),l.nb(0,0,null,null,2,"div",[["style","text-align:center"]],null,null,null,null,null)),(n()(),l.nb(1,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),l.Ab(-1,null,["Demo 4"])),(n()(),l.nb(3,0,null,null,6,"div",[["class","searchContainer"]],null,null,null,null,null)),(n()(),l.nb(4,0,null,null,5,"input",[["id","searchbyCountry"],["placeholder","Search Country"],["type","search"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,t,e){var r=!0;return"input"===t&&(r=!1!==l.vb(n,5)._handleInput(e.target.value)&&r),"blur"===t&&(r=!1!==l.vb(n,5).onTouched()&&r),"compositionstart"===t&&(r=!1!==l.vb(n,5)._compositionStart()&&r),"compositionend"===t&&(r=!1!==l.vb(n,5)._compositionEnd(e.target.value)&&r),r},null,null)),l.mb(5,16384,null,0,c.c,[l.B,l.k,[2,c.a]],null,null),l.yb(1024,null,c.i,function(n){return[n]},[c.c]),l.mb(7,540672,null,0,c.f,[[8,null],[8,null],[6,c.i],[2,c.r]],{form:[0,"form"]},null),l.yb(2048,null,c.j,null,[c.f]),l.mb(9,16384,null,0,c.k,[[4,c.j]],null,null),(n()(),l.nb(10,0,null,null,4,"app-country-table",[],null,null,null,a.b,a.a)),l.mb(11,49152,null,0,b.a,[],{countries:[0,"countries"],errorMessage:[1,"errorMessage"],isLoading:[2,"isLoading"]},null),l.wb(131072,p.b,[l.h]),l.wb(131072,p.b,[l.h]),l.wb(131072,p.b,[l.h])],function(n,t){var e=t.component;n(t,7,0,e.searchControl),n(t,11,0,l.Bb(t,11,0,l.vb(t,12).transform(e.countries$)),l.Bb(t,11,1,l.vb(t,13).transform(e.errorMessage$)),l.Bb(t,11,2,l.vb(t,14).transform(e.isLoading$)))},function(n,t){n(t,4,0,l.vb(t,9).ngClassUntouched,l.vb(t,9).ngClassTouched,l.vb(t,9).ngClassPristine,l.vb(t,9).ngClassDirty,l.vb(t,9).ngClassValid,l.vb(t,9).ngClassInvalid,l.vb(t,9).ngClassPending)})}function M(n){return l.Cb(0,[(n()(),l.nb(0,0,null,null,1,"app-search",[],null,null,null,F,H)),l.mb(1,114688,null,0,N,[U.n],null,null)],function(n,t){n(t,1,0)},null)}var P=l.jb("app-search",N,M,{},{},[]),k=e("PCNd"),q=e("bKjt"),D=e("iInd");class B{}B.components=[N],e.d(t,"SearchModuleNgFactory",function(){return J});var J=l.kb(s,[],function(n){return l.tb([l.ub(512,l.j,l.Z,[[8,[i.a,P]],[3,l.j],l.v]),l.ub(4608,p.m,p.l,[l.s,[2,p.s]]),l.ub(4608,c.d,c.d,[]),l.ub(4608,c.q,c.q,[]),l.ub(1073742336,p.c,p.c,[]),l.ub(1073742336,c.o,c.o,[]),l.ub(1073742336,c.m,c.m,[]),l.ub(1073742336,k.a,k.a,[]),l.ub(1024,U.F,function(){return[{}]},[]),l.ub(1024,U.j,function(){return[{key:"search",reducerFactory:U.z,metaReducers:[],initialState:void 0}]},[]),l.ub(1024,U.G,U.H,[l.p,U.F,U.j]),l.ub(1024,U.q,function(){return[_]},[]),l.ub(1024,U.r,function(n){return[n]},[U.q]),l.ub(1024,U.b,function(n,t,e){return[U.w(n,t,e)]},[l.p,U.q,U.r]),l.ub(1073873408,U.o,U.o,[U.G,U.b,U.g,U.p]),l.ub(512,m,m,[q.a,E.a]),l.ub(1024,E.j,function(n){return[E.f(n)]},[m]),l.ub(1073742336,E.h,E.h,[E.g,E.j,[2,U.p],[2,U.o]]),l.ub(1073742336,D.p,D.p,[[2,D.w],[2,D.o]]),l.ub(1073742336,B,B,[]),l.ub(1073742336,s,s,[]),l.ub(1024,D.m,function(){return[[{path:"",component:N}]]},[])])})}}]);